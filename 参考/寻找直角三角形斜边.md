# What’s so hard about finding a hypotenuse?
**是什么让寻找直接三角形斜边如此艰难？**

数值库通常有寻找直角三角形斜边的函数，这不重要么？
如果直角边分别是x和y，只需要写：

```
sqrt(x*x + y*y)
```

上述办法理论上可行，但实践中可能不行。
如果x很大以至于x*x溢出（y同理），上述代码将产生无穷结果。

大家应当会告诉计算机：“现在x*x和y*y可能很大，但是等一会儿，马上会开平方，数值会变小些，只需要借用额外的存储一小会儿。”
程序员可以如是在具备扩展精确度的环境中做些事情，但不要且无效的。
当然，如果已经用最大数值类型，那直接导致失败。

这里讲述如何无风险的计算“sqrt(x*x + y*y)”。

- max = maximum(|x|, |y|)
- min = minimum(|x|, |y|)
- r = min / max
- return max*sqrt(1 + r*r)

注意到开平方参数介于1和2之间，不会有开平方溢出的危险。
该算法溢出只可能是结果本身太大不足以表达。
